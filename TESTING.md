# 測試策略

## 簡介

本文檔描述了 TaiwanStay 專案的測試策略。在專案開發初期，我們採用了簡化的測試方法，專注於核心功能開發，而不是複雜的測試架構。

## 測試哲學

在專案開發初期，我們遵循以下原則：

1. **專注於核心功能開發**：優先開發產品功能，而不是建立複雜的測試架構。
2. **簡化測試範圍**：只測試關鍵功能和工具函數，避免過度測試。
3. **避免複雜的外部依賴**：避免依賴數據庫和其他外部服務的測試，減少測試的複雜性和脆弱性。

## 當前測試架構

我們已經大幅簡化了測試架構，移除了所有複雜的測試文件和目錄。目前，我們只保留了：

### 工具函數測試

- **目的**：確保基本工具函數正確工作。
- **位置**：`__tests__/basic/utils.test.ts`
- **特點**：不依賴外部服務，執行快速，維護簡單。

## 手動測試

對於複雜的功能和 UI 組件，我們目前依賴手動測試：

- 在開發過程中，開發人員應該手動測試其功能，確保其正常工作。
- 對於關鍵功能，應該進行更全面的手動測試，包括邊緣情況和錯誤處理。

## 測試文件結構

當前的測試文件結構非常簡單：

```
__tests__/
  basic/             # 基本功能測試
    utils.test.ts    # 工具函數測試
```

## 運行測試

運行所有測試：

```bash
npm test
```

監視模式（開發時使用）：

```bash
npm run test:watch
```

CI 環境中運行測試：

```bash
npm run test:ci
```

## 未來計劃

隨著專案的發展，我們計劃逐步擴展測試範圍：

1. **API 測試**：當 API 穩定後，添加更多 API 測試。
2. **組件測試**：為關鍵 UI 組件添加測試。
3. **端到端測試**：為關鍵用戶流程添加端到端測試。

## 測試最佳實踐

1. **保持測試簡單**：測試應該易於理解和維護。
2. **專注於功能**：測試應該專注於功能，而不是實現細節。
3. **避免脆弱的測試**：避免依賴特定實現細節的測試，這些測試容易因代碼變更而失敗。
4. **測試關鍵路徑**：優先測試關鍵業務邏輯和用戶流程。

## 結論

我們的測試策略旨在平衡開發速度和代碼質量。在專案初期，我們優先考慮開發速度，簡化測試架構，專注於核心功能開發。隨著專案的成熟，我們將逐步增加測試覆蓋率，確保代碼質量和穩定性。

這種簡化的測試策略允許我們快速迭代，同時保持基本的代碼質量保證。